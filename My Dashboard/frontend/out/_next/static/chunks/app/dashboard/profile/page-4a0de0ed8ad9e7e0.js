(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[544],{26747:function(e,t,r){Promise.resolve().then(r.bind(r,3128))},3128:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var a=r(57437),s=r(2265),n=r(99376),l=r(42097),o=r(29116),d=r(25523),i=r(23404);function c(){(0,n.useRouter)();let{user:e,updateUser:t}=(0,l.t)(),[r,c]=(0,s.useState)(!1),[u,g]=(0,s.useState)(!1),[m,h]=(0,s.useState)({name:(null==e?void 0:e.name)||"",theme:(null==e?void 0:e.theme)||"light"}),x=async e=>{e.preventDefault(),c(!0);try{let e=await o.kv.updateProfile(m);t(e.data.data),g(!1),alert("Profile updated successfully!")}catch(e){console.error("Update failed:",e),alert("Failed to update profile")}finally{c(!1)}};return(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-8",children:"Profile Settings"}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6 mb-8",children:[(0,a.jsx)("div",{className:"w-24 h-24 rounded-full bg-blue-600 dark:bg-blue-400 flex items-center justify-center text-white text-4xl font-bold",children:null==e?void 0:e.name.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:null==e?void 0:e.name}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:null==e?void 0:e.email}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:["Theme: ",null==e?void 0:e.theme]})]})]}),(0,a.jsx)(d.z,{onClick:()=>g(!0),className:"mb-6",children:"Edit Profile"}),(0,a.jsxs)("div",{className:"space-y-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Account Info"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Name"}),(0,a.jsx)("p",{className:"text-gray-900 dark:text-white font-medium",children:null==e?void 0:e.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email"}),(0,a.jsx)("p",{className:"text-gray-900 dark:text-white font-medium",children:null==e?void 0:e.email})]})]})]})]}),(0,a.jsx)(i.u,{isOpen:u,onClose:()=>g(!1),title:"Edit Profile",children:(0,a.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),(0,a.jsx)("input",{type:"text",value:m.name,onChange:e=>h({...m,name:e.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Theme"}),(0,a.jsxs)("select",{value:m.theme,onChange:e=>h({...m,theme:e.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,a.jsx)("option",{value:"light",children:"Light"}),(0,a.jsx)("option",{value:"dark",children:"Dark"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(d.z,{type:"submit",isLoading:r,className:"flex-1",children:"Save Changes"}),(0,a.jsx)(d.z,{type:"button",variant:"secondary",onClick:()=>g(!1),className:"flex-1",children:"Cancel"})]})]})})]})}},25523:function(e,t,r){"use strict";r.d(t,{z:function(){return s}});var a=r(57437);function s(e){let{variant:t="primary",isLoading:r,children:s,...n}=e;return(0,a.jsx)("button",{...n,disabled:r||n.disabled,className:"".concat("px-4 py-2 rounded-lg font-medium transition disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",danger:"bg-red-600 text-white hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800"}[t]," ").concat(n.className||""),children:r?"Loading...":s})}},23404:function(e,t,r){"use strict";r.d(t,{u:function(){return n}});var a=r(57437),s=r(32489);function n(e){let{isOpen:t,onClose:r,title:n,children:l}=e;return t?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:r}),(0,a.jsxs)("div",{className:"relative bg-white dark:bg-gray-900 rounded-lg shadow-lg w-full max-w-md p-6 m-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:n}),(0,a.jsx)("button",{onClick:r,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded transition",children:(0,a.jsx)(s.Z,{className:"w-5 h-5"})})]}),l]})]}):null}},29116:function(e,t,r){"use strict";r.d(t,{Bi:function(){return c},P$:function(){return u},Tm:function(){return g},VT:function(){return i},kv:function(){return o},sC:function(){return d}});var a=r(83464),s=r(42097);let n=r(40257).env.NEXT_PUBLIC_API_URL||"https://lifetrackdashboard.onrender.com/api",l=a.Z.create({baseURL:n});l.interceptors.request.use(e=>{let t=s.t.getState().token;return t&&(e.headers.Authorization="Bearer ".concat(t)),e});let o={register:e=>l.post("/auth/register",e),login:e=>l.post("/auth/login",e),getMe:()=>l.get("/auth/me"),updateProfile:e=>l.put("/auth/profile",e)},d={uploadCV:e=>l.post("/uploads/cv",e,{headers:{"Content-Type":"multipart/form-data"}})},i={getAll:()=>l.get("/certs"),getOne:e=>l.get("/certs/".concat(e)),create:e=>l.post("/certs",e,{headers:{"Content-Type":"multipart/form-data"}}),update:(e,t)=>l.put("/certs/".concat(e),t),delete:e=>l.delete("/certs/".concat(e))},c={getAll:()=>l.get("/degrees"),getOne:e=>l.get("/degrees/".concat(e)),create:e=>e instanceof FormData?l.post("/degrees",e,{headers:{"Content-Type":"multipart/form-data"}}):l.post("/degrees",e),update:(e,t)=>t instanceof FormData?l.put("/degrees/".concat(e),t,{headers:{"Content-Type":"multipart/form-data"}}):l.put("/degrees/".concat(e),t),delete:e=>l.delete("/degrees/".concat(e))},u={getAll:e=>l.get("/todos",{params:e}),getOne:e=>l.get("/todos/".concat(e)),create:e=>l.post("/todos",e),update:(e,t)=>l.put("/todos/".concat(e),t),delete:e=>l.delete("/todos/".concat(e))},g={getAll:()=>l.get("/goals"),getOne:e=>l.get("/goals/".concat(e)),create:e=>l.post("/goals",e),update:(e,t)=>l.put("/goals/".concat(e),t),delete:e=>l.delete("/goals/".concat(e)),getDashboardStats:()=>l.get("/goals/dashboard/stats")};t.ZP=l},42097:function(e,t,r){"use strict";r.d(t,{t:function(){return a}});let a=(0,r(59625).Ue)(e=>({user:JSON.parse(localStorage.getItem("user")||"null"),token:localStorage.getItem("token"),isAuthenticated:!!localStorage.getItem("token"),setAuth:(t,r)=>{localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("token",r),e({user:t,token:r,isAuthenticated:!0})},logout:()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1})},updateUser:t=>{e(e=>{let r={...e.user,...t};return localStorage.setItem("user",JSON.stringify(r)),{user:r}})}}))},39763:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var a=r(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{color:o="currentColor",size:d=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:u="",children:g,...m}=r;return(0,a.createElement)("svg",{ref:l,...s,width:d,height:d,stroke:o,strokeWidth:c?24*Number(i)/Number(d):i,className:["lucide","lucide-".concat(n(e)),u].join(" "),...m},[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(g)?g:[g]])});return r.displayName="".concat(e),r}},32489:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(39763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},99376:function(e,t,r){"use strict";var a=r(35475);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})}},function(e){e.O(0,[42,971,117,744],function(){return e(e.s=26747)}),_N_E=e.O()}]);