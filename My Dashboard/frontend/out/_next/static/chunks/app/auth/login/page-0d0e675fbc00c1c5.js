(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{23221:function(e,t,r){Promise.resolve().then(r.bind(r,56873))},56873:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var a=r(57437),s=r(2265),n=r(99376),o=r(27648),l=r(29116),d=r(42097),i=r(25523),c=r(74611);function u(){let e=(0,n.useRouter)(),{setAuth:t}=(0,d.t)(),[r,u]=(0,s.useState)(!1),[g,m]=(0,s.useState)(""),[h,f]=(0,s.useState)({email:"",password:""}),p=async r=>{r.preventDefault(),m(""),u(!0);try{let r=await l.kv.login(h);t(r.data.data.user,r.data.data.token),e.push("/dashboard")}catch(e){var a,s;m((null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Login failed. Please try again.")}finally{u(!1)}};return(0,a.jsx)(c.f6,{children:(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your productivity"})]}),(0,a.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[g&&(0,a.jsx)("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 rounded-lg text-sm",children:g}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",value:h.email,onChange:e=>f({...h,email:e.target.value}),required:!0,className:"w-full"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),(0,a.jsx)("input",{type:"password",value:h.password,onChange:e=>f({...h,password:e.target.value}),required:!0,className:"w-full"})]}),(0,a.jsx)(i.z,{type:"submit",isLoading:r,className:"w-full py-3 text-lg font-semibold",children:"Sign In"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",(0,a.jsx)(o.default,{href:"/auth/register",className:"text-blue-600 dark:text-blue-400 font-semibold hover:underline",children:"Sign up"})]})})]}),(0,a.jsx)("p",{className:"text-center text-gray-600 dark:text-gray-400 mt-8 text-sm",children:"\xa9 2025 Productivity Dashboard. All rights reserved."})]})})})}},25523:function(e,t,r){"use strict";r.d(t,{z:function(){return s}});var a=r(57437);function s(e){let{variant:t="primary",isLoading:r,children:s,...n}=e;return(0,a.jsx)("button",{...n,disabled:r||n.disabled,className:"".concat("px-4 py-2 rounded-lg font-medium transition disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",danger:"bg-red-600 text-white hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800"}[t]," ").concat(n.className||""),children:r?"Loading...":s})}},29116:function(e,t,r){"use strict";r.d(t,{Bi:function(){return c},P$:function(){return u},Tm:function(){return g},VT:function(){return i},kv:function(){return l},sC:function(){return d}});var a=r(83464),s=r(42097);let n=r(40257).env.NEXT_PUBLIC_API_URL||"https://lifetrackdashboard.onrender.com/api",o=a.Z.create({baseURL:n});o.interceptors.request.use(e=>{let t=s.t.getState().token;return t&&(e.headers.Authorization="Bearer ".concat(t)),e});let l={register:e=>o.post("/auth/register",e),login:e=>o.post("/auth/login",e),getMe:()=>o.get("/auth/me"),updateProfile:e=>o.put("/auth/profile",e)},d={uploadCV:e=>o.post("/uploads/cv",e,{headers:{"Content-Type":"multipart/form-data"}})},i={getAll:()=>o.get("/certs"),getOne:e=>o.get("/certs/".concat(e)),create:e=>o.post("/certs",e,{headers:{"Content-Type":"multipart/form-data"}}),update:(e,t)=>o.put("/certs/".concat(e),t),delete:e=>o.delete("/certs/".concat(e))},c={getAll:()=>o.get("/degrees"),getOne:e=>o.get("/degrees/".concat(e)),create:e=>e instanceof FormData?o.post("/degrees",e,{headers:{"Content-Type":"multipart/form-data"}}):o.post("/degrees",e),update:(e,t)=>t instanceof FormData?o.put("/degrees/".concat(e),t,{headers:{"Content-Type":"multipart/form-data"}}):o.put("/degrees/".concat(e),t),delete:e=>o.delete("/degrees/".concat(e))},u={getAll:e=>o.get("/todos",{params:e}),getOne:e=>o.get("/todos/".concat(e)),create:e=>o.post("/todos",e),update:(e,t)=>o.put("/todos/".concat(e),t),delete:e=>o.delete("/todos/".concat(e))},g={getAll:()=>o.get("/goals"),getOne:e=>o.get("/goals/".concat(e)),create:e=>o.post("/goals",e),update:(e,t)=>o.put("/goals/".concat(e),t),delete:e=>o.delete("/goals/".concat(e)),getDashboardStats:()=>o.get("/goals/dashboard/stats")};t.ZP=o},42097:function(e,t,r){"use strict";r.d(t,{t:function(){return a}});let a=(0,r(59625).Ue)(e=>({user:JSON.parse(localStorage.getItem("user")||"null"),token:localStorage.getItem("token"),isAuthenticated:!!localStorage.getItem("token"),setAuth:(t,r)=>{localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("token",r),e({user:t,token:r,isAuthenticated:!0})},logout:()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1})},updateUser:t=>{e(e=>{let r={...e.user,...t};return localStorage.setItem("user",JSON.stringify(r)),{user:r}})}}))},74611:function(e,t,r){"use strict";r.d(t,{Fg:function(){return l},f6:function(){return o}});var a=r(57437),s=r(2265);let n=(()=>{if("undefined"!=typeof globalThis&&globalThis.__MY_APP_THEME_CONTEXT__)return globalThis.__MY_APP_THEME_CONTEXT__;let e=s.createContext(void 0);return"undefined"!=typeof globalThis&&(globalThis.__MY_APP_THEME_CONTEXT__=e),e})();function o(e){let{children:t}=e,[r,o]=s.useState("light"),[l,d]=s.useState(!1);return(s.useEffect(()=>{d(!0);try{let e=localStorage.getItem("theme")||"light";o(e),document.documentElement.classList.toggle("dark","dark"===e)}catch(e){}},[]),l)?(0,a.jsx)(n.Provider,{value:{theme:r,toggleTheme:()=>{let e="light"===r?"dark":"light";o(e);try{localStorage.setItem("theme",e)}catch(e){}document.documentElement.classList.toggle("dark","dark"===e)}},children:t}):(0,a.jsx)(a.Fragment,{children:t})}function l(){let e=s.useContext(n);if(!e)throw Error("useTheme must be used within ThemeProvider");return e}}},function(e){e.O(0,[42,448,971,117,744],function(){return e(e.s=23221)}),_N_E=e.O()}]);