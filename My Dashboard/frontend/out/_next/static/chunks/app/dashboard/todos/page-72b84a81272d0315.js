(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[805],{20055:function(e,t,a){Promise.resolve().then(a.bind(a,3680))},3680:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return m}});var r=a(57437),s=a(2265),l=a(29116),n=a(25523),d=a(23404),i=a(88476),o=a(99397),c=a(97418),u=a(42208),g=a(18930),x=a(73281);function m(){let[e,t]=(0,s.useState)([]),[a,m]=(0,s.useState)(!0),[h,b]=(0,s.useState)(!1),[p,y]=(0,s.useState)(!1),[f,v]=(0,s.useState)(null),[k,j]=(0,s.useState)(null),[N,w]=(0,s.useState)("all"),[C,S]=(0,s.useState)("all"),[P,A]=(0,s.useState)(""),[Z,_]=(0,s.useState)({task:"",priority:"medium",status:"pending",deadline:""});(0,s.useEffect)(()=>{D()},[N,C]);let D=async()=>{try{let e={};"all"!==N&&(e.status=N),"all"!==C&&(e.priority=C);let a=await l.P$.getAll(e);t(a.data.data)}catch(e){console.error("Failed to fetch todos:",e)}finally{m(!1)}},I=async a=>{a.preventDefault();try{if(k)await l.P$.update(k,Z),t(e.map(e=>e._id===k?{...e,...Z}:e));else{let a=await l.P$.create(Z);t([a.data.data,...e])}M(),b(!1)}catch(e){console.error("Failed to save todo:",e),alert("Failed to save todo")}},L=async a=>{if(confirm("Are you sure?"))try{await l.P$.delete(a),t(e.filter(e=>e._id!==a))}catch(e){console.error("Failed to delete:",e)}},T=e=>{j(e._id),_({task:e.task,priority:e.priority,status:e.status,deadline:e.deadline?e.deadline.split("T")[0]:""}),b(!0)},M=()=>{_({task:"",priority:"medium",status:"pending",deadline:""}),j(null)},z=e=>{switch(e){case"high":return"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300";case"medium":return"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300";case"low":return"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300";default:return"bg-gray-100 dark:bg-gray-700"}},O=e=>{switch(e){case"done":return"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300";case"in-progress":return"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300";case"pending":return"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300";default:return"bg-gray-100 dark:bg-gray-700"}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"Todos"}),(0,r.jsx)("div",{className:"mt-3 max-w-md",children:(0,r.jsx)("input",{type:"search",value:P,onChange:e=>A(e.target.value),placeholder:"Search tasks...",className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"})})]}),(0,r.jsx)("div",{children:(0,r.jsxs)(n.z,{onClick:()=>{M(),b(!0)},className:"flex items-center gap-2",children:[(0,r.jsx)(o.Z,{className:"w-4 h-4"}),"Add Todo"]})})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Status"}),(0,r.jsxs)("select",{value:N,onChange:e=>w(e.target.value),className:"px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600",children:[(0,r.jsx)("option",{value:"all",children:"All"}),(0,r.jsx)("option",{value:"pending",children:"Pending"}),(0,r.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,r.jsx)("option",{value:"done",children:"Done"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Priority"}),(0,r.jsxs)("select",{value:C,onChange:e=>S(e.target.value),className:"px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600",children:[(0,r.jsx)("option",{value:"all",children:"All"}),(0,r.jsx)("option",{value:"high",children:"High"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"low",children:"Low"})]})]})]}),a?(0,r.jsx)("div",{children:"Loading..."}):0===e.length?(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-12 text-center",children:[(0,r.jsx)(c.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No todos yet. Add one to get started!"})]}):(0,r.jsx)("div",{className:"grid gap-4",children:(()=>{let t=e;if(P&&""!==P.trim()){let e=P.toLowerCase();t=t.filter(t=>(t.task||"").toLowerCase().includes(e))}return t})().map(e=>(0,r.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-lg transition",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.task}),(0,r.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,r.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-medium ".concat(O(e.status)),children:e.status}),(0,r.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-medium ".concat(z(e.priority)),children:e.priority}),e.deadline&&(0,r.jsxs)("span",{className:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 rounded-full",children:["Due: ",(0,x.Z)(new Date(e.deadline),"MMM d, yyyy")]})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(n.z,{variant:"secondary",onClick:()=>{v(e),y(!0)},className:"text-sm",children:(0,r.jsx)(u.Z,{className:"w-4 h-4"})}),(0,r.jsx)(n.z,{variant:"secondary",onClick:()=>T(e),className:"text-sm",children:"Edit"}),(0,r.jsx)(n.z,{variant:"danger",onClick:()=>L(e._id),className:"text-sm",children:(0,r.jsx)(g.Z,{className:"w-4 h-4"})})]})]})},e._id))}),(0,r.jsx)(d.u,{isOpen:h,onClose:()=>{b(!1),M()},title:k?"Edit Todo":"Add Todo",children:(0,r.jsxs)("form",{onSubmit:I,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Task *"}),(0,r.jsx)("input",{type:"text",value:Z.task,onChange:e=>_({...Z,task:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Priority"}),(0,r.jsxs)("select",{value:Z.priority,onChange:e=>_({...Z,priority:e.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600",children:[(0,r.jsx)("option",{value:"low",children:"Low"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"high",children:"High"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Status"}),(0,r.jsxs)("select",{value:Z.status,onChange:e=>_({...Z,status:e.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600",children:[(0,r.jsx)("option",{value:"pending",children:"Pending"}),(0,r.jsx)("option",{value:"in-progress",children:"In Progress"}),(0,r.jsx)("option",{value:"done",children:"Done"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Deadline"}),(0,r.jsx)("input",{type:"date",value:Z.deadline,onChange:e=>_({...Z,deadline:e.target.value})})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)(n.z,{type:"submit",className:"flex-1",children:"Save"}),(0,r.jsx)(n.z,{type:"button",variant:"secondary",onClick:()=>{b(!1),M()},className:"flex-1",children:"Cancel"})]})]})}),(0,r.jsx)(i.M,{isOpen:p,onClose:()=>y(!1),title:(null==f?void 0:f.task)||"Preview",content:[{label:"Status",value:null==f?void 0:f.status},{label:"Priority",value:null==f?void 0:f.priority},{label:"Deadline",value:(null==f?void 0:f.deadline)?(0,x.Z)(new Date(f.deadline),"MMM d, yyyy"):"No deadline"}]})]})}},25523:function(e,t,a){"use strict";a.d(t,{z:function(){return s}});var r=a(57437);function s(e){let{variant:t="primary",isLoading:a,children:s,...l}=e;return(0,r.jsx)("button",{...l,disabled:a||l.disabled,className:"".concat("px-4 py-2 rounded-lg font-medium transition disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-blue-600 text-white hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",danger:"bg-red-600 text-white hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800"}[t]," ").concat(l.className||""),children:a?"Loading...":s})}},23404:function(e,t,a){"use strict";a.d(t,{u:function(){return l}});var r=a(57437),s=a(32489);function l(e){let{isOpen:t,onClose:a,title:l,children:n}=e;return t?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:a}),(0,r.jsxs)("div",{className:"relative bg-white dark:bg-gray-900 rounded-lg shadow-lg w-full max-w-md p-6 m-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:l}),(0,r.jsx)("button",{onClick:a,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded transition",children:(0,r.jsx)(s.Z,{className:"w-5 h-5"})})]}),n]})]}):null}},88476:function(e,t,a){"use strict";a.d(t,{M:function(){return d}});var r=a(57437),s=a(23404),l=a(29116),n=a(40257);function d(e){let{isOpen:t,onClose:a,title:d="Preview",content:i=[],fileUrl:o,fileName:c,fileType:u}=e,g=l.ZP&&l.ZP.defaults&&l.ZP.defaults.baseURL?l.ZP.defaults.baseURL.replace(/\/api$/,""):n.env.NEXT_PUBLIC_API_URL||window.location.origin,x=o?"".concat(g).concat(o):null,m=u&&u.startsWith("image/");return(0,r.jsx)(s.u,{isOpen:t,onClose:a,title:d,children:(0,r.jsxs)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[i.map((e,t)=>(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:e.label}),(0,r.jsx)("p",{className:"text-sm text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-900 p-2 rounded",children:e.value||"â€”"})]},t)),o&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Attachment"}),m?(0,r.jsx)("div",{className:"rounded overflow-hidden max-h-64",children:(0,r.jsx)("img",{src:x,alt:c||"attachment",className:"w-full h-auto object-contain"})}):(0,r.jsxs)("a",{href:x,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-800 transition text-sm",children:["\uD83D\uDCC4 ",c||"View File"]})]})]})})}},29116:function(e,t,a){"use strict";a.d(t,{Bi:function(){return c},P$:function(){return u},Tm:function(){return g},VT:function(){return o},kv:function(){return d},sC:function(){return i}});var r=a(83464),s=a(42097);let l=a(40257).env.NEXT_PUBLIC_API_URL||"https://lifetrackdashboard.onrender.com/api",n=r.Z.create({baseURL:l});n.interceptors.request.use(e=>{let t=s.t.getState().token;return t&&(e.headers.Authorization="Bearer ".concat(t)),e});let d={register:e=>n.post("/auth/register",e),login:e=>n.post("/auth/login",e),getMe:()=>n.get("/auth/me"),updateProfile:e=>n.put("/auth/profile",e)},i={uploadCV:e=>n.post("/uploads/cv",e,{headers:{"Content-Type":"multipart/form-data"}})},o={getAll:()=>n.get("/certs"),getOne:e=>n.get("/certs/".concat(e)),create:e=>n.post("/certs",e,{headers:{"Content-Type":"multipart/form-data"}}),update:(e,t)=>n.put("/certs/".concat(e),t),delete:e=>n.delete("/certs/".concat(e))},c={getAll:()=>n.get("/degrees"),getOne:e=>n.get("/degrees/".concat(e)),create:e=>e instanceof FormData?n.post("/degrees",e,{headers:{"Content-Type":"multipart/form-data"}}):n.post("/degrees",e),update:(e,t)=>t instanceof FormData?n.put("/degrees/".concat(e),t,{headers:{"Content-Type":"multipart/form-data"}}):n.put("/degrees/".concat(e),t),delete:e=>n.delete("/degrees/".concat(e))},u={getAll:e=>n.get("/todos",{params:e}),getOne:e=>n.get("/todos/".concat(e)),create:e=>n.post("/todos",e),update:(e,t)=>n.put("/todos/".concat(e),t),delete:e=>n.delete("/todos/".concat(e))},g={getAll:()=>n.get("/goals"),getOne:e=>n.get("/goals/".concat(e)),create:e=>n.post("/goals",e),update:(e,t)=>n.put("/goals/".concat(e),t),delete:e=>n.delete("/goals/".concat(e)),getDashboardStats:()=>n.get("/goals/dashboard/stats")};t.ZP=n},42097:function(e,t,a){"use strict";a.d(t,{t:function(){return r}});let r=(0,a(59625).Ue)(e=>({user:JSON.parse(localStorage.getItem("user")||"null"),token:localStorage.getItem("token"),isAuthenticated:!!localStorage.getItem("token"),setAuth:(t,a)=>{localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("token",a),e({user:t,token:a,isAuthenticated:!0})},logout:()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1})},updateUser:t=>{e(e=>{let a={...e.user,...t};return localStorage.setItem("user",JSON.stringify(a)),{user:a}})}}))},97418:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]])},42208:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}},function(e){e.O(0,[42,855,971,117,744],function(){return e(e.s=20055)}),_N_E=e.O()}]);