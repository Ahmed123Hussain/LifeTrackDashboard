(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[45],{98396:function(e,t,r){Promise.resolve().then(r.bind(r,68682))},68682:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var a=r(57437),s=r(2265),l=r(48736),d=r(39763);let n=(0,d.Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),o=(0,d.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),i=(0,d.Z)("FilePlus",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"12",x2:"12",y1:"18",y2:"12",key:"1tsf04"}],["line",{x1:"9",x2:"15",y1:"15",y2:"15",key:"110plj"}]]);var c=r(18930),u=r(29116),g=r(40257);function p(){var e,t;let r=[{id:"personal",label:"Personal Documents",icon:l.Z},{id:"property",label:"Property Documents",icon:n},{id:"bank",label:"Bank Documents",icon:o}],[d,p]=(0,s.useState)("personal"),[x,m]=(0,s.useState)(!1),[y,h]=(0,s.useState)(""),[b,f]=(0,s.useState)(""),[k,v]=(0,s.useState)(""),[N,w]=(0,s.useState)(""),[j,C]=(0,s.useState)(""),[S,P]=(0,s.useState)(null),[_,A]=(0,s.useState)(!1),[I,L]=(0,s.useState)([]),[U,D]=(0,s.useState)(""),[Z,T]=(0,s.useState)(null),O=(0,s.useRef)(null);(0,s.useEffect)(()=>{try{let e=localStorage.getItem("lc_personal_docs");e&&L(JSON.parse(e))}catch(e){L([])}},[]);let E=e=>{L(e);try{localStorage.setItem("lc_personal_docs",JSON.stringify(e))}catch(e){}},z=e=>{if(!e)return"";if(/^https?:\/\//.test(e))return e;let t=(g.env.NEXT_PUBLIC_API_URL||"https://lifetrackdashboard.onrender.com").replace(/\/$/,"");return t.endsWith("/api")&&(t=t.slice(0,-4)),"".concat(t).concat(e)},V=e=>{P(e)},B=async()=>{if(!S)return alert("Please choose a file");if(!N||0===N.trim().length)return alert("Please provide a title");let e=new FormData;e.append("file",S),A(!0);try{let t=(await u.sC.uploadCV(e)).data.data,r=[{id:String(Date.now()),tab:d,title:N.trim(),details:j.trim(),fileUrl:t.fileUrl,fileName:t.fileName,fileType:t.fileType,uploadedAt:new Date().toISOString()},...I];E(r),w(""),C(""),P(null),O.current&&(O.current.value="")}catch(e){var t,r;console.error("Upload failed",e),alert("Upload failed: "+((null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||(null==e?void 0:e.message)||String(e)))}finally{A(!1)}},M=e=>{confirm("Delete this document?")&&E(I.filter(t=>t.id!==e))},F=I.filter(e=>e.tab===d),H=e=>{let t=e.trim().toLowerCase();if(!t){T(null);return}T(I.filter(e=>(e.title||"").toLowerCase().includes(t)||(e.details||"").toLowerCase().includes(t)||(e.fileName||"").toLowerCase().includes(t)))};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Personal"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Secure area for personal documents. Provide password to access (frontend-only for now)."})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"search",value:U,onChange:e=>D(e.target.value),onKeyDown:e=>{"Enter"===e.key&&H(U)},placeholder:"Search documents by title, details or filename...",className:"px-3 py-2 rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 w-80"}),(0,a.jsx)("button",{onClick:()=>H(U),className:"px-3 py-2 rounded bg-blue-600 text-white",children:"Search"}),(0,a.jsx)("button",{onClick:()=>{D(""),T(null)},className:"px-3 py-2 rounded bg-gray-100 dark:bg-gray-700",children:"Clear"})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:()=>m(!x),className:"px-3 py-2 rounded bg-gray-100 dark:bg-gray-700 text-sm",children:x?"Cancel":"Change Personal Password"})})]}),x&&(0,a.jsxs)("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-900 rounded",children:[(0,a.jsx)("label",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Current Password"}),(0,a.jsx)("input",{value:y,onChange:e=>h(e.target.value),type:"password",className:"w-full px-3 py-2 rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 mb-2"}),(0,a.jsx)("label",{className:"text-sm text-gray-700 dark:text-gray-300",children:"New Password"}),(0,a.jsx)("input",{value:b,onChange:e=>f(e.target.value),type:"password",className:"w-full px-3 py-2 rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 mb-2"}),(0,a.jsx)("label",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Confirm New Password"}),(0,a.jsx)("input",{value:k,onChange:e=>v(e.target.value),type:"password",className:"w-full px-3 py-2 rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 mb-3"}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{onClick:()=>{let e=localStorage.getItem("lc_personal_password")||"password123";if(e&&e.length>0&&"password123"!==e&&y!==e){alert("Current password is incorrect");return}if(!b||b.length<4){alert("New password must be at least 4 characters");return}if(b!==k){alert("New passwords do not match");return}localStorage.setItem("lc_personal_password",b),m(!1),h(""),f(""),v(""),alert("Personal password updated")},className:"px-3 py-2 rounded bg-blue-600 text-white",children:"Save Password"})})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 border-b border-gray-100 dark:border-gray-700 pb-3 mb-4",children:r.map(e=>{let t=e.icon,r=e.id===d;return(0,a.jsxs)("button",{onClick:()=>p(e.id),className:"flex items-center gap-2 px-3 py-2 rounded-md transition ".concat(r?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),children:[(0,a.jsx)(t,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e.label})]},e.id)})}),(0,a.jsx)("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-900 rounded",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,a.jsx)("input",{placeholder:"Title",value:N,onChange:e=>w(e.target.value),className:"col-span-1 md:col-span-1 px-3 py-2 rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"}),(0,a.jsx)("input",{placeholder:"Details (optional)",value:j,onChange:e=>C(e.target.value),className:"col-span-1 md:col-span-1 px-3 py-2 rounded border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"}),(0,a.jsxs)("div",{className:"col-span-1 md:col-span-1 flex items-center gap-2",children:[(0,a.jsx)("input",{ref:O,type:"file",accept:"application/pdf,image/*",onChange:e=>{var t;return V((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"text-sm"}),(0,a.jsx)("button",{onClick:B,disabled:_,className:"px-3 py-2 bg-blue-600 text-white rounded",children:_?"Uploading...":"Upload"})]})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-md border border-gray-100 dark:border-gray-700",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:null===(e=r.find(e=>e.id===d))||void 0===e?void 0:e.label}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Upload or list ",null===(t=r.find(e=>e.id===d))||void 0===t?void 0:t.label.toLowerCase(),"."]}),(0,a.jsx)("div",{className:"mt-4",children:Z?(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-3",children:["Showing ",Z.length,' result(s) for "',U,'"']}),(0,a.jsx)("ul",{className:"space-y-3",children:Z.map(e=>{var t;return(0,a.jsxs)("li",{className:"flex items-start justify-between bg-gray-50 dark:bg-gray-900 rounded p-3 border border-gray-100 dark:border-gray-700",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(i,{className:"w-5 h-5 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("a",{href:z(e.fileUrl),target:"_blank",rel:"noreferrer",className:"text-sm font-medium text-gray-900 dark:text-white",children:e.title}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.fileName," \xb7 ",new Date(e.uploadedAt).toLocaleString()," \xb7 ",null===(t=r.find(t=>t.id===e.tab))||void 0===t?void 0:t.label]})]})]}),e.details&&(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:e.details})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("button",{onClick:()=>M(e.id),className:"px-2 py-1 rounded bg-red-50 text-red-600 text-sm flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),"Delete"]})})]},e.id)})})]}):0===F.length?(0,a.jsx)("div",{className:"min-h-[120px] border border-dashed border-gray-200 dark:border-gray-700 rounded-md p-4 flex items-center justify-center text-sm text-gray-500",children:"(Empty) Add upload UI or list here later."}):(0,a.jsx)("ul",{className:"space-y-3",children:F.map(e=>(0,a.jsxs)("li",{className:"flex items-start justify-between bg-gray-50 dark:bg-gray-900 rounded p-3 border border-gray-100 dark:border-gray-700",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(i,{className:"w-5 h-5 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("a",{href:z(e.fileUrl),target:"_blank",rel:"noreferrer",className:"text-sm font-medium text-gray-900 dark:text-white",children:e.title}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.fileName," \xb7 ",new Date(e.uploadedAt).toLocaleString()]})]})]}),e.details&&(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:e.details})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("button",{onClick:()=>M(e.id),className:"px-2 py-1 rounded bg-red-50 text-red-600 text-sm flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),"Delete"]})})]},e.id))})})]})})]})]})}},29116:function(e,t,r){"use strict";r.d(t,{Bi:function(){return c},P$:function(){return u},Tm:function(){return g},VT:function(){return i},kv:function(){return n},sC:function(){return o}});var a=r(83464),s=r(42097);let l=r(40257).env.NEXT_PUBLIC_API_URL||"https://lifetrackdashboard.onrender.com/api",d=a.Z.create({baseURL:l});d.interceptors.request.use(e=>{let t=s.t.getState().token;return t&&(e.headers.Authorization="Bearer ".concat(t)),e});let n={register:e=>d.post("/auth/register",e),login:e=>d.post("/auth/login",e),getMe:()=>d.get("/auth/me"),updateProfile:e=>d.put("/auth/profile",e)},o={uploadCV:e=>d.post("/uploads/cv",e,{headers:{"Content-Type":"multipart/form-data"}})},i={getAll:()=>d.get("/certs"),getOne:e=>d.get("/certs/".concat(e)),create:e=>d.post("/certs",e,{headers:{"Content-Type":"multipart/form-data"}}),update:(e,t)=>d.put("/certs/".concat(e),t),delete:e=>d.delete("/certs/".concat(e))},c={getAll:()=>d.get("/degrees"),getOne:e=>d.get("/degrees/".concat(e)),create:e=>e instanceof FormData?d.post("/degrees",e,{headers:{"Content-Type":"multipart/form-data"}}):d.post("/degrees",e),update:(e,t)=>t instanceof FormData?d.put("/degrees/".concat(e),t,{headers:{"Content-Type":"multipart/form-data"}}):d.put("/degrees/".concat(e),t),delete:e=>d.delete("/degrees/".concat(e))},u={getAll:e=>d.get("/todos",{params:e}),getOne:e=>d.get("/todos/".concat(e)),create:e=>d.post("/todos",e),update:(e,t)=>d.put("/todos/".concat(e),t),delete:e=>d.delete("/todos/".concat(e))},g={getAll:()=>d.get("/goals"),getOne:e=>d.get("/goals/".concat(e)),create:e=>d.post("/goals",e),update:(e,t)=>d.put("/goals/".concat(e),t),delete:e=>d.delete("/goals/".concat(e)),getDashboardStats:()=>d.get("/goals/dashboard/stats")};t.ZP=d},42097:function(e,t,r){"use strict";r.d(t,{t:function(){return a}});let a=(0,r(59625).Ue)(e=>({user:JSON.parse(localStorage.getItem("user")||"null"),token:localStorage.getItem("token"),isAuthenticated:!!localStorage.getItem("token"),setAuth:(t,r)=>{localStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("token",r),e({user:t,token:r,isAuthenticated:!0})},logout:()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),e({user:null,token:null,isAuthenticated:!1})},updateUser:t=>{e(e=>{let r={...e.user,...t};return localStorage.setItem("user",JSON.stringify(r)),{user:r}})}}))},39763:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var a=r(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),d=(e,t)=>{let r=(0,a.forwardRef)((r,d)=>{let{color:n="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:u="",children:g,...p}=r;return(0,a.createElement)("svg",{ref:d,...s,width:o,height:o,stroke:n,strokeWidth:c?24*Number(i)/Number(o):i,className:["lucide","lucide-".concat(l(e)),u].join(" "),...p},[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(g)?g:[g]])});return r.displayName="".concat(e),r}},48736:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(39763).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},18930:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(39763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}},function(e){e.O(0,[42,971,117,744],function(){return e(e.s=98396)}),_N_E=e.O()}]);